<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Human Behavior Detection System</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Rounded:opsz,wght,FILL,GRAD@20..48,100..700,0..1,0..200" rel="stylesheet" />
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <header>
        <div class="header-content">
            <img src="/logo.svg" alt="Logo" class="logo" onerror="this.src='data:image/svg+xml,%3Csvg xmlns=\'http://www.w3.org/2000/svg\' viewBox=\'0 0 100 100\' width=\'45\' height=\'45\'%3E%3Ccircle cx=\'50\' cy=\'50\' r=\'45\' fill=\'%234361ee\' /%3E%3Ctext x=\'50\' y=\'60\' font-family=\'Arial\' font-size=\'40\' text-anchor=\'middle\' fill=\'white\'%3EH%3C/text%3E%3C/svg%3E'; this.onerror=null;">
            <h1>Human Behavior Detection System</h1>
        </div>
    </header>

    <div class="container">
        <div class="grid-container">
            <!-- Main content - Video Feed -->
            <div class="card video-container">
                <div class="video-header">
                    <h2>Live Detection Feed</h2>
                    <div style="display: flex; align-items: center; gap: 1.5rem;">
                        <div style="display: flex; align-items: center;">
                            <label class="switch">
                                <input type="checkbox" id="detectionToggle">
                                <span class="slider"></span>
                            </label>
                            <span class="switch-label" id="toggleLabel">Detection Inactive</span>
                        </div>
                        <div style="display: flex; align-items: center;">
                            <button id="faceMarkingsToggle" class="toggle-button" disabled>
                                <span class="material-icon">face</span>
                                <span>Show Face Markings</span>
                            </button>
                        </div>
                    </div>
                </div>
                <div class="video-feed" id="videoFeed">
                    <p>Toggle the switch to start detection</p>
                </div>
            </div>

            <!-- Detection Results -->
            <div class="card results-container">
                <h2>Detection Results</h2>
                <div class="divider"></div>

                <!-- Emotion -->
                <div class="result-section">
                    <h3>Detected Emotion</h3>
                    <div class="emotion-display">
                        <span class="icon icon-neutral" id="emotionIcon"></span>
                        <span class="emotion-text" id="emotionText">None</span>
                    </div>
                    <p class="confidence-text" id="confidenceText">Confidence: 0.0%</p>
                    <div class="confidence-bar">
                        <div class="confidence-fill" id="confidenceFill" style="width: 0%"></div>
                    </div>
                </div>

                <!-- Expression -->
                <div class="result-section">
                    <h3>Facial Expression</h3>
                    <span class="chip chip-neutral" id="expressionChip">None</span>
                </div>

                <!-- Drowsiness Alert -->
                <div class="result-section">
                    <h3>Drowsiness Detection</h3>
                    <div class="alert alert-success" id="drowsyAlert">
                        <span class="icon icon-check"></span>
                        <span><strong>Alert and Attentive</strong></span>
                    </div>
                </div>

                <p class="footer-text">Results update in real-time when detection is active</p>
            </div>

            <!-- Information card -->
            <div class="card info-card">
                <h2>About Human Behavior Detection</h2>
                <p>
                    This application uses computer vision and machine learning to detect human emotions, expressions, and drowsiness in real-time.
                    The system can identify seven different emotions (Angry, Disgust, Fear, Happy, Sad, Surprise, Neutral) and detect facial expressions like smiles and yawns.
                    It also monitors eye movements to detect drowsiness, which can be useful for driver safety applications.
                </p>
            </div>
        </div>
    </div>

    <footer>
        <p>&copy; 2023 Human Behavior Detection System</p>
    </footer>
    <script src="script.js"></script>
</body>
</html>